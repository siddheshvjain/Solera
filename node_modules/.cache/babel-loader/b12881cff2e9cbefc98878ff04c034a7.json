{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\Siddhesh Jain\\\\Desktop\\\\Goodrx\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Siddhesh Jain\\\\Desktop\\\\Goodrx\\\\src\\\\components\\\\Suggest.jsx\";\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0 10px;\\n  cursor: pointer;\\n  &:hover {\\n    background-color:silver;\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  z-index: 1;\\n  top: 5px;\\n  padding: 0;\\n  border: 1px solid silver;\\n  background-color: white;\\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\\n  list-style: none;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 0;\\n  border: 1px solid silver;\\n  border-radius: 3px;\\n  font-family: inherit;\\n  font-size: 100%;\\n  -webkit-appearance: searchfield;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  font: normal .8em sans-serif;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport * as React from 'react';\nimport fetchJsonp from 'fetch-jsonp';\nimport styled from 'styled-components';\nimport { StateProvider, DebouncePropagator, AsyncResolver } from 'reenhance-components';\nvar Dropdown = styled.div(_templateObject());\nvar Input = styled.input(_templateObject2());\nvar SuggestsUl = styled.ul(_templateObject3());\nvar SuggestsLi = styled.li(_templateObject4());\n\nvar queryToUrl = function queryToUrl(query) {\n  return \"https://completion.amazon.com/search/complete?search-alias=aps&client=amazon-search-ui&mkt=1&q=\".concat(query);\n};\n\nvar asyncFetch = function asyncFetch(_ref) {\n  var query = _ref.query;\n  return fetchJsonp(queryToUrl(query)).then(function (res) {\n    return res.json();\n  });\n};\n\nvar SuggestAsyncResolver = AsyncResolver('query', []);\n\nvar Suggests = function Suggests(_ref2) {\n  var query = _ref2.query;\n  return /*#__PURE__*/React.createElement(SuggestAsyncResolver, {\n    query: query,\n    subject: asyncFetch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, function (props) {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, props[1] && props[1].length > 0 ? props[1].map(function (str) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: str,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }, str);\n    }) : /*#__PURE__*/React.createElement(\"li\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 20\n      }\n    }, \"No results\"));\n  });\n};\n\nvar InputState = StateProvider('');\nvar SuggestDebounce = DebouncePropagator({\n  query: ''\n});\n\nvar SuggestedInput = function SuggestedInput() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputsearch\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputState, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, function (_ref3) {\n    var query = _ref3.state,\n        setQuery = _ref3.setState;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: query,\n      onChange: function onChange(e) {\n        return setQuery(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(SuggestDebounce, {\n      time: 200,\n      query: query,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, function (_ref4) {\n      var query = _ref4.query,\n          state = _ref4.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 19\n        }\n      }, query && /*#__PURE__*/React.createElement(Suggests, {\n        query: query,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 31\n        }\n      }));\n    }));\n  }));\n};","map":{"version":3,"sources":["C:/Users/Siddhesh Jain/Desktop/Goodrx/src/components/Suggest.jsx"],"names":["React","fetchJsonp","styled","StateProvider","DebouncePropagator","AsyncResolver","Dropdown","div","Input","input","SuggestsUl","ul","SuggestsLi","li","queryToUrl","query","asyncFetch","then","res","json","SuggestAsyncResolver","Suggests","props","length","map","str","InputState","SuggestDebounce","SuggestedInput","state","setQuery","setState","e","target","value"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport fetchJsonp from 'fetch-jsonp';\nimport styled from 'styled-components';\n\nimport { StateProvider, DebouncePropagator, AsyncResolver } from 'reenhance-components';\n\n\nconst Dropdown = styled.div`\n  position: relative;\n  font: normal .8em sans-serif;\n`;\n\nconst Input = styled.input`\n  margin: 0;\n  border: 1px solid silver;\n  border-radius: 3px;\n  font-family: inherit;\n  font-size: 100%;\n  -webkit-appearance: searchfield;\n`;\n\nconst SuggestsUl = styled.ul`\n  position: absolute;\n  z-index: 1;\n  top: 5px;\n  padding: 0;\n  border: 1px solid silver;\n  background-color: white;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n  list-style: none;\n`;\n\nconst SuggestsLi = styled.li`\n  padding: 0 10px;\n  cursor: pointer;\n  &:hover {\n    background-color:silver;\n  }\n`;\n\n\nconst queryToUrl =\n  query => `https://completion.amazon.com/search/complete?search-alias=aps&client=amazon-search-ui&mkt=1&q=${query}`;\n\nconst asyncFetch =\n  ({ query }) =>\n    fetchJsonp(queryToUrl(query))\n      .then(res => res.json());\n\n      const SuggestAsyncResolver = AsyncResolver('query', []);\n\n      const Suggests = ({ query }) => (\n        <SuggestAsyncResolver query={query} subject={asyncFetch}>\n          {props => (\n            <ul>\n              {props[1] && props[1].length > 0 ? props[1].map(str => (\n                <li key={str}>{str}</li>\n              )) : <li>No results</li>}\n            </ul>\n          )}\n        </SuggestAsyncResolver>\n      );\n\n      const InputState = StateProvider('');\n      const SuggestDebounce = DebouncePropagator({ query: '' });\n      \n      const SuggestedInput = () => (\n        <div className=\"inputsearch\">\n        <InputState>\n          {({ state: query, setState: setQuery }) => (\n            <div>\n              <input type=\"text\" value={query} onChange={e => setQuery(e.target.value)} />\n              <SuggestDebounce\n                time={200}\n                query={query}\n              >\n                {({ query, state }) => (\n                  <div>\n                    {query && <Suggests query={query}/>}\n                  </div>\n                )}\n              </SuggestDebounce>\n            </div>\n          )}\n        </InputState>\n        </div>\n      );\n    \n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}